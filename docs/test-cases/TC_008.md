# TC_008: ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿å¤±æ•—ãƒ†ã‚¹ãƒˆ

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ID** | TC_008 |
| **ãƒ†ã‚¹ãƒˆåˆ†é¡** | å˜ä½“ãƒ†ã‚¹ãƒˆ |
| **å¯¾è±¡ã‚¯ãƒ©ã‚¹** | FileReader |
| **å¯¾è±¡ãƒ¡ã‚½ãƒƒãƒ‰** | `readFile(path)` |
| **å„ªå…ˆåº¦** | é«˜ |

## ãƒ†ã‚¹ãƒˆå†…å®¹

### äº‹å‰æ¡ä»¶ï¼ˆè©¦é¨“è¦æ ¼ï¼‰
- æŒ‡å®šãƒ‘ã‚¹ã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„

### åˆ¤å®šæ¡ä»¶ï¼ˆè©¦é¨“åˆæ ¼å€¤ï¼‰
- ã‚¨ãƒ©ãƒ¼ãŒthrowã•ã‚Œã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«"File not found"ãŒå«ã¾ã‚Œã‚‹

## æ¤œè¨¼é …ç›®

1. å­˜åœ¨ã—ãªã„ãƒ‘ã‚¹ã‚’æŒ‡å®š
2. `readFile("/non/existent/path.txt")`ãŒã‚¨ãƒ©ãƒ¼ã‚’throw
3. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«"File not found"ã¾ãŸã¯"ENOENT"ãŒå«ã¾ã‚Œã‚‹

## ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ä¾‹

```javascript
test('å­˜åœ¨ã—ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ã¨ã‚¨ãƒ©ãƒ¼ãŒthrowã•ã‚Œã‚‹', () => {
  const fileReader = new FileReader();
  const nonExistentPath = '/tmp/non-existent-file.txt';

  expect(() => {
    fileReader.readFile(nonExistentPath);
  }).toThrow();
});

test('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«"File not found"ã¾ãŸã¯"ENOENT"ãŒå«ã¾ã‚Œã‚‹', () => {
  const fileReader = new FileReader();
  const nonExistentPath = '/tmp/non-existent-file.txt';

  expect(() => {
    fileReader.readFile(nonExistentPath);
  }).toThrow(/File not found|ENOENT/);
});
```

## å®Ÿè£…ã‚³ãƒ¼ãƒ‰ä¾‹

```javascript
const fs = require('fs');

class FileReader {
  readFile(path) {
    try {
      const content = fs.readFileSync(path, 'utf8');
      return content;
    } catch (error) {
      if (error.code === 'ENOENT') {
        throw new Error(`File not found: ${path}`);
      }
      throw error;
    }
  }
}
```

## TDDå®Ÿæ–½å±¥æ­´

### ğŸ”´ Redï¼ˆå¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼‰

**å®Ÿæ–½æ—¥**: 2025-11-19

**å®Ÿæ–½å†…å®¹**:
1. ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆ: `test/å˜ä½“ãƒ†ã‚¹ãƒˆ/FileReader/TC_008.test.js`
2. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   ```
   FAIL test/å˜ä½“ãƒ†ã‚¹ãƒˆ/FileReader/TC_008.test.js
   Error: expect(received).toThrow()
   Received function did not throw
   ```
3. çµæœ: âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—ï¼ˆæœŸå¾…é€šã‚Šï¼‰
   - TC_007ã®å®Ÿè£…ã§ã¯ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒæœªå®Ÿè£…

### ğŸŸ¢ Greenï¼ˆãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°é™ã®å®Ÿè£…ï¼‰

**å®Ÿæ–½æ—¥**: 2025-11-19

**å®Ÿæ–½å†…å®¹**:
1. `readFile()`ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¿½åŠ : `src/FileReader.js`
   ```javascript
   const fs = require('fs');

   class FileReader {
     readFile(path) {
       try {
         const content = fs.readFileSync(path, 'utf8');
         return content;
       } catch (error) {
         if (error.code === 'ENOENT') {
           throw new Error(`File not found: ${path}`);
         }
         throw error;
       }
     }
   }

   module.exports = FileReader;
   ```

2. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   ```
   PASS test/å˜ä½“ãƒ†ã‚¹ãƒˆ/FileReader/TC_008.test.js
   âœ“ å­˜åœ¨ã—ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ã¨ã‚¨ãƒ©ãƒ¼ãŒthrowã•ã‚Œã‚‹ (2 ms)
   âœ“ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«"File not found"ã¾ãŸã¯"ENOENT"ãŒå«ã¾ã‚Œã‚‹ (1 ms)
   ```

3. çµæœ: âœ… ãƒ†ã‚¹ãƒˆæˆåŠŸ

### ğŸ”µ Refactorï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼‰

**å®Ÿæ–½æ—¥**: 2025-11-19

**å®Ÿæ–½å†…å®¹**:
- try-catchã§ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒã—ã€ã‚ã‹ã‚Šã‚„ã™ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¤‰æ›
- ENOENTã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’åˆ¤å®šã—ã¦é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆ
- TC_007ã®ãƒ†ã‚¹ãƒˆã‚‚å†å®Ÿè¡Œã—ã¦æ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿ãŒãªã„ã“ã¨ã‚’ç¢ºèª
- ãƒ†ã‚¹ãƒˆå†å®Ÿè¡Œã§ç¶™ç¶šçš„ã«æˆåŠŸã‚’ç¢ºèª

**æœ€çµ‚çµæœ**: âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸ

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚µãƒãƒªãƒ¼

| ãƒ•ã‚§ãƒ¼ã‚º | çŠ¶æ…‹ | å®Ÿæ–½æ—¥ |
|---------|------|--------|
| Red | âœ… å®Œäº† | 2025-11-19 |
| Green | âœ… å®Œäº† | 2025-11-19 |
| Refactor | âœ… å®Œäº† | 2025-11-19 |

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«: `src/FileReader.js`
- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«: `test/å˜ä½“ãƒ†ã‚¹ãƒˆ/FileReader/TC_008.test.js`
