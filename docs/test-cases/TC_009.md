# TC_009: æ¤œç´¢çµæœè¡¨ç¤ºãƒ†ã‚¹ãƒˆ

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ID** | TC_009 |
| **ãƒ†ã‚¹ãƒˆåˆ†é¡** | çµ±åˆãƒ†ã‚¹ãƒˆ |
| **å¯¾è±¡ã‚¯ãƒ©ã‚¹** | UIController |
| **å¯¾è±¡ãƒ¡ã‚½ãƒƒãƒ‰** | `displaySearchResults(results)` |
| **å„ªå…ˆåº¦** | é«˜ |

## ãƒ†ã‚¹ãƒˆå†…å®¹

### äº‹å‰æ¡ä»¶ï¼ˆè©¦é¨“è¦æ ¼ï¼‰
- DOMè¦ç´ ãŒæº–å‚™æ¸ˆã¿ã€æ¤œç´¢çµæœ2ä»¶

### åˆ¤å®šæ¡ä»¶ï¼ˆè©¦é¨“åˆæ ¼å€¤ï¼‰
- çµæœãƒªã‚¹ãƒˆã«2ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ ãŒè¡¨ç¤ºã•ã‚Œã€ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒ‘ã‚¹ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹

## ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿

```javascript
results = [
  {
    title: 'è¨­è¨ˆæ›¸.txt',
    path: '/documents/design.txt',
    content: 'ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã«é–¢ã™ã‚‹æ–‡æ›¸ã§ã™ã€‚'
  },
  {
    title: 'ä»•æ§˜æ›¸.txt',
    path: '/documents/spec.txt',
    content: 'æ©Ÿèƒ½ä»•æ§˜ã¨ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶ã‚’è¨˜è¼‰ã€‚'
  }
]
```

## æ¤œè¨¼é …ç›®

1. DOMç’°å¢ƒã‚’jsdomã§ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
2. çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ã«2ã¤ã®ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ãŒå­˜åœ¨
3. å„ã‚¢ã‚¤ãƒ†ãƒ ã«ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒ‘ã‚¹ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹

## ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ä¾‹

```javascript
test('çµæœãƒªã‚¹ãƒˆã«2ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
  document.body.innerHTML = `
    <div id="results-list"></div>
  `;

  const uiController = new UIController(searcher, fileReader);
  uiController.displaySearchResults(testResults);

  const resultsList = document.getElementById('results-list');
  const items = resultsList.querySelectorAll('.result-item');

  expect(items.length).toBe(2);
});
```

## å®Ÿè£…ã‚³ãƒ¼ãƒ‰ä¾‹

```javascript
displaySearchResults(results) {
  const resultsList = document.getElementById('results-list');
  resultsList.innerHTML = '';

  results.forEach(doc => {
    const resultItem = document.createElement('div');
    resultItem.className = 'result-item';

    const titleElement = document.createElement('div');
    titleElement.className = 'document-title';
    titleElement.textContent = doc.title;

    const pathElement = document.createElement('a');
    pathElement.className = 'document-link';
    pathElement.textContent = doc.path;

    resultItem.appendChild(titleElement);
    resultItem.appendChild(pathElement);
    resultsList.appendChild(resultItem);
  });
}
```

## TDDå®Ÿæ–½å±¥æ­´

### ğŸ”´ Redï¼ˆå¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼‰

**å®Ÿæ–½æ—¥**: 2025-11-19

**å®Ÿæ–½å†…å®¹**:
1. ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆ: `test/çµ±åˆãƒ†ã‚¹ãƒˆ/UIController/TC_009.test.js`
2. jsdomç’°å¢ƒã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¦DOMæ“ä½œã‚’ãƒ†ã‚¹ãƒˆå¯èƒ½ã«
3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   ```
   FAIL test/çµ±åˆãƒ†ã‚¹ãƒˆ/UIController/TC_009.test.js
   ReferenceError: UIController is not defined
   ```
4. çµæœ: âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—ï¼ˆæœŸå¾…é€šã‚Šï¼‰

### ğŸŸ¢ Greenï¼ˆãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°é™ã®å®Ÿè£…ï¼‰

**å®Ÿæ–½æ—¥**: 2025-11-19

**å®Ÿæ–½å†…å®¹**:
1. UIControllerã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…: `src/UIController.js`
   ```javascript
   class UIController {
     constructor(searcher, fileReader) {
       this.searcher = searcher;
       this.fileReader = fileReader;
     }

     displaySearchResults(results) {
       const resultsList = document.getElementById('results-list');
       resultsList.innerHTML = '';

       results.forEach(doc => {
         const resultItem = document.createElement('div');
         resultItem.className = 'result-item';

         const titleElement = document.createElement('div');
         titleElement.className = 'document-title';
         titleElement.textContent = doc.title;

         const pathElement = document.createElement('a');
         pathElement.className = 'document-link';
         pathElement.textContent = doc.path;

         resultItem.appendChild(titleElement);
         resultItem.appendChild(pathElement);
         resultsList.appendChild(resultItem);
       });
     }
   }

   module.exports = UIController;
   ```

2. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   ```
   PASS test/çµ±åˆãƒ†ã‚¹ãƒˆ/UIController/TC_009.test.js
   âœ“ çµæœãƒªã‚¹ãƒˆã«2ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ ãŒè¡¨ç¤ºã•ã‚Œã‚‹ (3 ms)
   âœ“ å„ã‚¢ã‚¤ãƒ†ãƒ ã«ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒ‘ã‚¹ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ (2 ms)
   ```

3. çµæœ: âœ… ãƒ†ã‚¹ãƒˆæˆåŠŸ

### ğŸ”µ Refactorï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼‰

**å®Ÿæ–½æ—¥**: 2025-11-19

**å®Ÿæ–½å†…å®¹**:
- DOMæ“ä½œã‚’ã‚·ãƒ³ãƒ—ãƒ«ã‹ã¤æ˜ç¢ºã«å®Ÿè£…
- ã‚¯ãƒ©ã‚¹åã‚’ä½¿ç”¨ã—ã¦ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°å¯èƒ½ãªæ§‹é€ ã‚’ç¢ºä¿
- jsdomç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- ãƒ†ã‚¹ãƒˆå†å®Ÿè¡Œã§ç¶™ç¶šçš„ã«æˆåŠŸã‚’ç¢ºèª

**æœ€çµ‚çµæœ**: âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸ

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚µãƒãƒªãƒ¼

| ãƒ•ã‚§ãƒ¼ã‚º | çŠ¶æ…‹ | å®Ÿæ–½æ—¥ |
|---------|------|--------|
| Red | âœ… å®Œäº† | 2025-11-19 |
| Green | âœ… å®Œäº† | 2025-11-19 |
| Refactor | âœ… å®Œäº† | 2025-11-19 |

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«: `src/UIController.js`
- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«: `test/çµ±åˆãƒ†ã‚¹ãƒˆ/UIController/TC_009.test.js`
