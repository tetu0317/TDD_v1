# TC_009: 検索結果表示テスト

## テストケース情報

| 項目 | 内容 |
|------|------|
| **テストケースID** | TC_009 |
| **テスト分類** | 統合テスト |
| **対象クラス** | UIController |
| **対象メソッド** | `displaySearchResults(results)` |
| **優先度** | 高 |

## テスト内容

### 事前条件（試験規格）
- DOM要素が準備済み、検索結果2件

### 判定条件（試験合格値）
- 結果リストに2つのアイテムが表示され、タイトルとパスが正しく表示される

## テストデータ

```javascript
results = [
  {
    title: '設計書.txt',
    path: '/documents/design.txt',
    content: 'システム設計に関する文書です。'
  },
  {
    title: '仕様書.txt',
    path: '/documents/spec.txt',
    content: '機能仕様とシステム要件を記載。'
  }
]
```

## 検証項目

1. DOM環境をjsdomでシミュレート
2. 結果表示エリアに2つのリストアイテムが存在
3. 各アイテムにタイトルとパスが正しく表示される

## テストコード例

```javascript
test('結果リストに2つのアイテムが表示される', () => {
  document.body.innerHTML = `
    <div id="results-list"></div>
  `;

  const uiController = new UIController(searcher, fileReader);
  uiController.displaySearchResults(testResults);

  const resultsList = document.getElementById('results-list');
  const items = resultsList.querySelectorAll('.result-item');

  expect(items.length).toBe(2);
});
```

## 実装コード例

```javascript
displaySearchResults(results) {
  const resultsList = document.getElementById('results-list');
  resultsList.innerHTML = '';

  results.forEach(doc => {
    const resultItem = document.createElement('div');
    resultItem.className = 'result-item';

    const titleElement = document.createElement('div');
    titleElement.className = 'document-title';
    titleElement.textContent = doc.title;

    const pathElement = document.createElement('a');
    pathElement.className = 'document-link';
    pathElement.textContent = doc.path;

    resultItem.appendChild(titleElement);
    resultItem.appendChild(pathElement);
    resultsList.appendChild(resultItem);
  });
}
```

## テスト実行結果

- [ ] テスト実行前（Red）
- [ ] テスト成功（Green）
- [ ] リファクタリング完了（Refactor）

## 関連ドキュメント

- 実装ファイル: `src/UIController.js`
- テストファイル: `test/統合テスト/UIController/TC_009.test.js`
