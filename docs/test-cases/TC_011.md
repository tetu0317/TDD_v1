# TC_011: æ¤œç´¢å®Ÿè¡Œãƒ†ã‚¹ãƒˆ

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ID** | TC_011 |
| **ãƒ†ã‚¹ãƒˆåˆ†é¡** | çµ±åˆãƒ†ã‚¹ãƒˆ |
| **å¯¾è±¡ã‚¯ãƒ©ã‚¹** | UIController |
| **å¯¾è±¡ãƒ¡ã‚½ãƒƒãƒ‰** | `handleSearch()` |
| **å„ªå…ˆåº¦** | é«˜ |

## ãƒ†ã‚¹ãƒˆå†…å®¹

### äº‹å‰æ¡ä»¶ï¼ˆè©¦é¨“è¦æ ¼ï¼‰
- æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ã«"ãƒ†ã‚¹ãƒˆ"ã¨å…¥åŠ›æ¸ˆã¿

### åˆ¤å®šæ¡ä»¶ï¼ˆè©¦é¨“åˆæ ¼å€¤ï¼‰
- æ¤œç´¢ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã€"ãƒ†ã‚¹ãƒˆ"ã‚’å«ã‚€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒçµæœè¡¨ç¤ºã•ã‚Œã‚‹

## æ¤œè¨¼é …ç›®

1. DocumentSearcherã®ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨
2. æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ã«"ãƒ†ã‚¹ãƒˆ"ã‚’å…¥åŠ›
3. `handleSearch()`ã‚’å®Ÿè¡Œ
4. `displaySearchResults()`ãŒå‘¼ã°ã‚Œã‚‹

## ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ä¾‹

```javascript
test('æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›ã—ãŸå€¤ã§æ¤œç´¢ãŒå®Ÿè¡Œã•ã‚Œã‚‹', () => {
  document.body.innerHTML = `
    <input id="search-input" type="text" />
    <div id="results-list"></div>
  `;

  const searcher = new DocumentSearcher();
  searcher.addDocument('ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ›¸.txt', '/documents/test-design.txt', 'ãƒ†ã‚¹ãƒˆè¨­è¨ˆã®å†…å®¹ã§ã™ã€‚');
  searcher.addDocument('ä»•æ§˜æ›¸.txt', '/documents/spec.txt', 'ä»•æ§˜ã®å†…å®¹ã§ã™ã€‚');

  const uiController = new UIController(searcher, fileReader);
  const searchInput = document.getElementById('search-input');
  searchInput.value = 'ãƒ†ã‚¹ãƒˆ';

  uiController.handleSearch();

  const resultsList = document.getElementById('results-list');
  const items = resultsList.querySelectorAll('.result-item');

  expect(items.length).toBe(1);
  expect(items[0].textContent).toContain('ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ›¸.txt');
});
```

## å®Ÿè£…ã‚³ãƒ¼ãƒ‰ä¾‹

```javascript
handleSearch() {
  const searchInput = document.getElementById('search-input');
  const keyword = searchInput.value;

  const results = this.searcher.search(keyword);
  this.displaySearchResults(results);
}
```

## TDDå®Ÿæ–½å±¥æ­´

### ğŸ”´ Redï¼ˆå¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼‰

**å®Ÿæ–½æ—¥**: 2025-11-19

**å®Ÿæ–½å†…å®¹**:
1. ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆ: `test/çµ±åˆãƒ†ã‚¹ãƒˆ/UIController/TC_011.test.js`
2. æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ã¨ã®çµ±åˆã‚’ãƒ†ã‚¹ãƒˆ
3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   ```
   FAIL test/çµ±åˆãƒ†ã‚¹ãƒˆ/UIController/TC_011.test.js
   TypeError: uiController.handleSearch is not a function
   ```
4. çµæœ: âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—ï¼ˆæœŸå¾…é€šã‚Šï¼‰

### ğŸŸ¢ Greenï¼ˆãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°é™ã®å®Ÿè£…ï¼‰

**å®Ÿæ–½æ—¥**: 2025-11-19

**å®Ÿæ–½å†…å®¹**:
1. `handleSearch()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ : `src/UIController.js`
   ```javascript
   handleSearch() {
     const searchInput = document.getElementById('search-input');
     const keyword = searchInput.value;

     const results = this.searcher.search(keyword);
     this.displaySearchResults(results);
   }
   ```

2. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   ```
   PASS test/çµ±åˆãƒ†ã‚¹ãƒˆ/UIController/TC_011.test.js
   âœ“ æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›ã—ãŸå€¤ã§æ¤œç´¢ãŒå®Ÿè¡Œã•ã‚Œã‚‹ (3 ms)
   âœ“ æ¤œç´¢çµæœãŒæ­£ã—ãè¡¨ç¤ºã‚¨ãƒªã‚¢ã«åæ˜ ã•ã‚Œã‚‹ (2 ms)
   ```

3. çµæœ: âœ… ãƒ†ã‚¹ãƒˆæˆåŠŸ

### ğŸ”µ Refactorï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼‰

**å®Ÿæ–½æ—¥**: 2025-11-19

**å®Ÿæ–½å†…å®¹**:
- DocumentSearcherã‚¯ãƒ©ã‚¹ã¨ã®é€£æºã‚’ç¢ºèª
- displaySearchResults()ãƒ¡ã‚½ãƒƒãƒ‰ã®å†åˆ©ç”¨ã§é‡è¤‡ã‚³ãƒ¼ãƒ‰ã‚’æ’é™¤
- å…¨UIControllerãƒ†ã‚¹ãƒˆï¼ˆTC_009ã€œTC_011ï¼‰ã‚’å†å®Ÿè¡Œã—ã¦çµ±åˆå‹•ä½œã‚’ç¢ºèª
- ãƒ†ã‚¹ãƒˆå†å®Ÿè¡Œã§ç¶™ç¶šçš„ã«æˆåŠŸã‚’ç¢ºèª

**æœ€çµ‚çµæœ**: âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸ

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚µãƒãƒªãƒ¼

| ãƒ•ã‚§ãƒ¼ã‚º | çŠ¶æ…‹ | å®Ÿæ–½æ—¥ |
|---------|------|--------|
| Red | âœ… å®Œäº† | 2025-11-19 |
| Green | âœ… å®Œäº† | 2025-11-19 |
| Refactor | âœ… å®Œäº† | 2025-11-19 |

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«: `src/UIController.js`
- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«: `test/çµ±åˆãƒ†ã‚¹ãƒˆ/UIController/TC_011.test.js`
