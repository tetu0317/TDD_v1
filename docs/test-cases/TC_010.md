# TC_010: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¡¨ç¤ºãƒ†ã‚¹ãƒˆ

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ID** | TC_010 |
| **ãƒ†ã‚¹ãƒˆåˆ†é¡** | çµ±åˆãƒ†ã‚¹ãƒˆ |
| **å¯¾è±¡ã‚¯ãƒ©ã‚¹** | UIController |
| **å¯¾è±¡ãƒ¡ã‚½ãƒƒãƒ‰** | `displayDocument(path)` |
| **å„ªå…ˆåº¦** | é«˜ |

## ãƒ†ã‚¹ãƒˆå†…å®¹

### äº‹å‰æ¡ä»¶ï¼ˆè©¦é¨“è¦æ ¼ï¼‰
- ãƒ‘ã‚¹ãƒªãƒ³ã‚¯ãŒã‚¯ãƒªãƒƒã‚¯å¯èƒ½çŠ¶æ…‹

### åˆ¤å®šæ¡ä»¶ï¼ˆè©¦é¨“åˆæ ¼å€¤ï¼‰
- ã‚¯ãƒªãƒƒã‚¯æ™‚ã«è©²å½“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å†…å®¹ãŒè¡¨ç¤ºã‚¨ãƒªã‚¢ã«è¡¨ç¤ºã•ã‚Œã‚‹

## æ¤œè¨¼é …ç›®

1. FileReaderã®ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨
2. `displayDocument("/documents/design.txt")`ã‚’å®Ÿè¡Œ
3. è¡¨ç¤ºã‚¨ãƒªã‚¢ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹

## ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ä¾‹

```javascript
test('ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…å®¹ãŒè¡¨ç¤ºã‚¨ãƒªã‚¢ã«è¡¨ç¤ºã•ã‚Œã‚‹', () => {
  document.body.innerHTML = `
    <div id="document-display"></div>
  `;

  const testContent = 'ã“ã‚Œã¯ãƒ†ã‚¹ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å†…å®¹ã§ã™ã€‚';
  fileReader.readFile = jest.fn().mockReturnValue(testContent);

  const uiController = new UIController(searcher, fileReader);
  uiController.displayDocument('/documents/test.txt');

  const displayArea = document.getElementById('document-display');
  expect(displayArea.textContent).toContain(testContent);
});

test('ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
  fileReader.readFile = jest.fn().mockImplementation(() => {
    throw new Error('File not found');
  });

  const uiController = new UIController(searcher, fileReader);
  uiController.displayDocument('/non/existent/path.txt');

  const displayArea = document.getElementById('document-display');
  expect(displayArea.textContent).toContain('ã‚¨ãƒ©ãƒ¼');
});
```

## å®Ÿè£…ã‚³ãƒ¼ãƒ‰ä¾‹

```javascript
displayDocument(path) {
  const displayArea = document.getElementById('document-display');

  try {
    const content = this.fileReader.readFile(path);
    displayArea.textContent = content;
  } catch (error) {
    displayArea.textContent = `ã‚¨ãƒ©ãƒ¼: ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸã€‚\n${error.message}`;
  }
}
```

## TDDå®Ÿæ–½å±¥æ­´

### ğŸ”´ Redï¼ˆå¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼‰

**å®Ÿæ–½æ—¥**: 2025-11-19

**å®Ÿæ–½å†…å®¹**:
1. ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆ: `test/çµ±åˆãƒ†ã‚¹ãƒˆ/UIController/TC_010.test.js`
2. FileReaderã®ãƒ¢ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   ```
   FAIL test/çµ±åˆãƒ†ã‚¹ãƒˆ/UIController/TC_010.test.js
   TypeError: uiController.displayDocument is not a function
   ```
4. çµæœ: âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—ï¼ˆæœŸå¾…é€šã‚Šï¼‰

### ğŸŸ¢ Greenï¼ˆãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°é™ã®å®Ÿè£…ï¼‰

**å®Ÿæ–½æ—¥**: 2025-11-19

**å®Ÿæ–½å†…å®¹**:
1. `displayDocument()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ : `src/UIController.js`
   ```javascript
   displayDocument(path) {
     const displayArea = document.getElementById('document-display');

     try {
       const content = this.fileReader.readFile(path);
       displayArea.textContent = content;
     } catch (error) {
       displayArea.textContent = `ã‚¨ãƒ©ãƒ¼: ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸã€‚\n${error.message}`;
     }
   }
   ```

2. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   ```
   PASS test/çµ±åˆãƒ†ã‚¹ãƒˆ/UIController/TC_010.test.js
   âœ“ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…å®¹ãŒè¡¨ç¤ºã‚¨ãƒªã‚¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ (2 ms)
   âœ“ ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ (2 ms)
   ```

3. çµæœ: âœ… ãƒ†ã‚¹ãƒˆæˆåŠŸ

### ğŸ”µ Refactorï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼‰

**å®Ÿæ–½æ—¥**: 2025-11-19

**å®Ÿæ–½å†…å®¹**:
- try-catchã§ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å®Ÿè£…ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã‚’ç¢ºä¿
- FileReaderã‚¯ãƒ©ã‚¹ã¨ã®é€£æºã‚’ç¢ºèª
- TC_009ã®ãƒ†ã‚¹ãƒˆã‚‚å†å®Ÿè¡Œã—ã¦æ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿ãŒãªã„ã“ã¨ã‚’ç¢ºèª
- ãƒ†ã‚¹ãƒˆå†å®Ÿè¡Œã§ç¶™ç¶šçš„ã«æˆåŠŸã‚’ç¢ºèª

**æœ€çµ‚çµæœ**: âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸ

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚µãƒãƒªãƒ¼

| ãƒ•ã‚§ãƒ¼ã‚º | çŠ¶æ…‹ | å®Ÿæ–½æ—¥ |
|---------|------|--------|
| Red | âœ… å®Œäº† | 2025-11-19 |
| Green | âœ… å®Œäº† | 2025-11-19 |
| Refactor | âœ… å®Œäº† | 2025-11-19 |

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«: `src/UIController.js`
- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«: `test/çµ±åˆãƒ†ã‚¹ãƒˆ/UIController/TC_010.test.js`
