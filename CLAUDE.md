# TDD（テスト駆動開発）実施要領

## 1. 概要
本文書は、テスト駆動開発（TDD）を用いたソフトウェア開発の標準的な実施手順を定義する。

## 2. TDD開発サイクル

### 2.1 Red-Green-Refactorサイクル
1. **Red（失敗するテストを書く）**
   - 実装前に失敗するテストケースを作成
   - テストが失敗することを確認

2. **Green（テストを通す最小限の実装）**
   - テストを通過する最小限のコードを実装
   - 全テストが成功することを確認

3. **Refactor（リファクタリング）**
   - コードの品質向上
   - テストが継続的に成功することを確認

## 3. テスト仕様書作成基準

### 3.1 必須記載項目
| 項目 | 説明 | 例 |
|------|------|-----|
| メソッド名 | テスト対象のメソッド名 | `searchDocuments()` |
| ケースID | 一意のテスト識別子 | `TC_001` |
| 事前条件（試験規格） | テスト実行前の環境・データ状態 | 3つのtxtファイルが登録済み |
| 判定条件（試験合格値） | 期待される結果 | 検索キーワードを含む2件が返却 |

### 3.2 テスト分類
- **単体テスト**: 個別機能の動作確認
- **統合テスト**: 機能間の連携確認
- **E2Eテスト**: ユーザー操作シナリオの確認

## 4. 開発手順

### 4.1 機能定義
1. 要求仕様の明確化
2. インターフェース設計
3. テストケース洗い出し

### 4.2 実装サイクル
```
1. テストケース作成
   ↓
2. テスト実行（失敗確認）
   ↓
3. 最小実装
   ↓
4. テスト実行（成功確認）
   ↓
5. リファクタリング
   ↓
6. 次のテストケースへ
```

### 4.3 テストファースト原則
- 実装コードより先にテストコードを作成
- テストが定義できない機能は実装しない
- 全てのコードはテストによって検証される

## 5. 品質基準

### 5.1 カバレッジ目標
- 単体テスト: 80%以上
- 重要機能: 100%

### 5.2 テストの独立性
- 各テストは独立して実行可能
- テスト間の依存関係を排除
- テストデータの初期化・クリーンアップを確実に実施

## 6. ドキュメント構成

### 6.1 プロジェクト構造
```
project/
├── src/           # ソースコード
├── test/          # テストコード
├── docs/          # ドキュメント
│   ├── test-specs.md  # テスト仕様書
│   └── design.md      # 設計書
└── README.md
```

## 7. チェックリスト

### 7.1 テスト作成前
- [ ] 要求仕様は明確か
- [ ] インターフェースは定義されているか
- [ ] テストケースは網羅的か

### 7.2 実装前
- [ ] テストコードは作成済みか
- [ ] テストは失敗するか
- [ ] 判定条件は適切か

### 7.3 実装後
- [ ] 全テストが成功するか
- [ ] コードは最小限か
- [ ] リファクタリングの余地はないか

## 8. 応用ガイドライン

### 8.1 他プロジェクトへの適用
1. プロジェクト特性に応じてテスト分類を調整
2. 使用言語・フレームワークに適したテストツールを選定
3. CI/CDパイプラインへの統合を検討

### 8.2 拡張時の考慮事項
- 新機能追加時は既存テストの影響を確認
- インターフェース変更時は関連テストを更新
- パフォーマンステストの追加を検討
